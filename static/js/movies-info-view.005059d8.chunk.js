(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{100:function(e,t,a){"use strict";a.r(t);var n=a(53),s=a.n(n),r=a(56),c=a(54),i=a(58),o=a(59),u=a(61),l=a(60),h=a(0),b=a(3),v=a(15),j=a(10),p=a(94),m=a.n(p),d=a(57),_=a(1),f=Object(b.f)((function(e){var t=e.movie,a=e.match,n=e.location.state.from,s=Object(d.a)(t),r=s.title,c=s.imgUrl,i=s.overview,o=s.score,u=s.release_year,l=s.genresList,h=s.reviews,b=0!==(null===h||void 0===h?void 0:h.results.length);return Object(_.jsxs)("div",{className:m.a.info,children:[Object(_.jsxs)("div",{className:m.a.info__box,children:[Object(_.jsx)("img",{src:c,alt:r}),Object(_.jsxs)("div",{className:m.a.info__text,children:[Object(_.jsx)("h2",{className:m.a.info__title,children:r+" ("+u+")"}),Object(_.jsxs)("p",{className:m.a.info__overview,children:[Object(_.jsx)("span",{children:"Overview: "}),i]}),Object(_.jsxs)("p",{className:m.a.info__vote,children:[Object(_.jsx)("span",{children:"User score: "}),o]}),Object(_.jsxs)("p",{className:m.a.info__genres,children:[Object(_.jsx)("span",{children:"Genres: "}),l]})]})]}),Object(_.jsxs)("ul",{className:m.a.about,children:[Object(_.jsx)("li",{className:m.a.about__item,children:Object(_.jsx)(j.b,{className:m.a.about__link,to:{pathname:"".concat(a.url,"/cast"),state:{from:n}},children:"Cast"})},"cast"),b?Object(_.jsx)("li",{className:m.a.about__item,children:Object(_.jsx)(j.b,{className:m.a.about__link,to:{pathname:"".concat(a.url,"/reviews"),state:{from:n}},children:"Reviews"})},"reviews"):Object(_.jsx)("p",{className:m.a.about__msg,children:"There are no reviews for this movie!"})]})]})})),O=a(55),x=a(8),g=Object(h.lazy)((function(){return a.e(1).then(a.bind(null,97))})),w=Object(h.lazy)((function(){return a.e(6).then(a.bind(null,98))})),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={base_url:"https://image.tmdb.org/t/p/w500/",movie:{}},e.onClickButton=function(t){t.preventDefault();var a=e.props,n=a.location,s=a.history;if(n.state&&n.state.from)return s.push(n.state.from);s.push(x.a.home)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.requestMovieDetails(this.props.match.params.movieId);case 2:t=e.sent,this.setState({movie:Object(r.a)({},t)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(_.jsx)("main",{children:this.state.movie.id&&Object(_.jsxs)(v.a,{children:[Object(_.jsx)("button",{type:"button",className:"button-back",onClick:this.onClickButton,children:"Back"}),Object(_.jsx)(f,{movie:this.state.movie}),Object(_.jsx)(h.Suspense,{fallback:Object(_.jsx)(_.Fragment,{}),children:Object(_.jsxs)(b.c,{children:[Object(_.jsx)(b.a,{path:"".concat(this.props.match.path,"/cast"),render:function(t){return Object(_.jsx)(g,{movieCast:e.state.movie.credits.cast})}}),";",Object(_.jsx)(b.a,{path:"".concat(this.props.match.path,"/reviews"),render:function(t){return Object(_.jsx)(w,{movieReview:e.state.movie.reviews.results})}}),";"]})})]})})}}]),a}(h.Component);t.default=k},55:function(e,t,a){"use strict";var n=a(53),s=a.n(n),r=a(54),c=a(64),i=a.n(c),o="9c8d439d1b89eedd1730750924a6446b",u=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(t).then((function(e){return e.data})).catch(console.error);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={requestMovieDetails:function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(o,"&append_to_response=reviews,credits");return u(t)},requestTrendMovies:function(){var e="https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(o,"&language='en-US'");return u(e)},requestSearchMovie:function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat(o,"&page=1&query=").concat(e,"&language='en-US'");return u(t)}};t.a=l},57:function(e,t,a){"use strict";var n=a(56),s=a(52),r=a.p+"static/media/default-opt.2c72dc5c.jpg";t.a=function(e){var t=e.poster_path,a=e.release_date,c=e.genres,i=e.vote_average,o=Object(s.a)(e,["poster_path","release_date","genres","vote_average"]);return Object(n.a)(Object(n.a)({},o),{},{imgUrl:t?"https://image.tmdb.org/t/p/w342"+t:r,release_year:a?a.slice(0,4):"N/A",genresList:c?c.map((function(e){return e.name})).join(", "):"",score:10*i+"%"})}},94:function(e,t,a){e.exports={info:"MovieInfo_info__2s72V",about:"MovieInfo_about__M7ZjP",about__item:"MovieInfo_about__item__15oR4",about__link:"MovieInfo_about__link__18_Pe"}}}]);
//# sourceMappingURL=movies-info-view.005059d8.chunk.js.map